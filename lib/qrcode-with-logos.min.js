!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QrCodeWithLogo=e():t.QrCodeWithLogo=e()}(window,function(){return n=[function(t,e){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,r,e){const n=e(4),o=e(5);r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(n.isValid(e))return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2];throw new Error("Invalid version: "+e)},r.getBestModeForData=function(t){return o.testNumeric(t)?r.NUMERIC:o.testAlphanumeric(t)?r.ALPHANUMERIC:o.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits},r.from=function(t,e){if(r.isValid(t))return t;try{var n=t;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+n)}}catch(t){return e}}},function(t,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},r.from=function(t,e){if(r.isValid(t))return t;try{var n=t;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}}catch(t){return e}}},function(t,e,n){const r=n(2),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}}},function(t,e){e.isValid=function(t){return!isNaN(t)&&1<=t&&t<=40}},function(t,e){let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";var r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return i.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},function(t,g){function o(t){if("string"!=typeof(t="number"==typeof t?t.toString():t))throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);6===(e=3!==e.length&&4!==e.length?e:Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))).length&&e.push("F","F");t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+e.slice(0,6).join("")}}g.getOptions=function(t){(t=t||{}).color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&21<=t.width?t.width:void 0,r=t.scale||4;return{width:n,scale:n?4:r,margin:e,color:{dark:o(t.color.dark||"#000000ff"),light:o(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},g.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},g.getImageWidth=function(t,e){var n=g.getScale(t,e);return Math.floor((t+2*e.margin)*n)},g.qrToImageData=function(r,t,o){var i=t.modules.size,a=t.modules.data,u=g.getScale(i,o),s=Math.floor((i+2*o.margin)*u),c=o.margin*u,l=[o.color.light,o.color.dark];for(let n=0;n<s;n++)for(let e=0;e<s;e++){var f,h,d=4*(n*s+e);let t=o.color.light;n>=c&&e>=c&&n<s-c&&e<s-c&&(f=Math.floor((n-c)/u),h=Math.floor((e-c)/u),t=l[a[f*i+h]?1:0]),r[d++]=t.r,r[d++]=t.g,r[d++]=t.b,r[d]=t.a}}},function(t,e,n){const s=n(9),c=n(10);var r=n(28);const o=n(29);function i(r,o,i,a,e){var t=[].slice.call(arguments,1),n=t.length,t="function"==typeof t[n-1];if(!t&&!s())throw new Error("Callback required as last argument");if(!t){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=o,o=a=void 0):2!==n||o.getContext||(a=i,i=o,o=void 0),new Promise(function(t,e){try{var n=c.create(i,a);t(r(n,o,a))}catch(t){e(t)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(e=i,i=o,o=a=void 0):3===n&&(o.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=i,i=o,o=void 0));try{var u=c.create(i,a);e(null,r(u,o,a))}catch(t){e(t)}}e.create=c.create,e.toCanvas=i.bind(null,r.render),e.toDataURL=i.bind(null,r.renderToDataURL),e.toString=i.bind(null,function(t,e,n){return o.render(t,n)})},function(t){t.exports=JSON.parse('{"a":"1.0.6"}')},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(t,e,n){const M=n(0),i=n(2),r=n(11),T=n(12),x=n(13),R=n(14),L=n(15),A=n(3),I=n(16),S=n(19),u=n(20),o=n(1),U=n(21);function D(t,e,n){var r=t.size,o=u.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function k(i,a,u){const s=new r;u.forEach(function(t){s.put(t.mode.bit,4),s.put(t.getLength(),o.getCharCountIndicator(t.mode,i)),t.write(s)});u=8*(M.getSymbolTotalCodewords(i)-A.getTotalCodewordsCount(i,a));for(s.getLengthInBits()+4<=u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(0);var e=(u-s.getLengthInBits())/8;for(let t=0;t<e;t++)s.put(t%2?17:236,8);{u=s;var c=i,l=M.getSymbolTotalCodewords(c),f=A.getTotalCodewordsCount(c,a),f=l-f,h=A.getBlocksCount(c,a),c,d=h-(c=l%h),a=Math.floor(l/h),g=Math.floor(f/h),p=g+1,v=a-g,m=new I(v);let e=0;var w=new Array(h),y=new Array(h);let n=0;var E=new Uint8Array(u.buffer);for(let t=0;t<h;t++){var b=t<d?g:p;w[t]=E.slice(e,e+b),y[t]=m.encode(w[t]),e+=b,n=Math.max(n,b)}var C=new Uint8Array(l);let t=0,r,o;for(r=0;r<n;r++)for(o=0;o<h;o++)r<w[o].length&&(C[t++]=w[o][r]);for(r=0;r<v;r++)for(o=0;o<h;o++)C[t++]=y[o][r];return C}}function a(e,n,r,t){let o;if(Array.isArray(e))o=U.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let t=n;t||(a=U.rawSplit(e),t=S.getBestVersionForData(a,r)),o=U.fromString(e,t||40)}}var a=S.getBestVersionForData(o,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else n=a;var e=k(n,r,o),a=M.getSymbolSize(n),a=new T(a),i=a,u=n,s=i.size,c=R.getPositions(u);for(let t=0;t<c.length;t++){var l=c[t][0],f=c[t][1];for(let e=-1;e<=7;e++)if(!(l+e<=-1||s<=l+e))for(let t=-1;t<=7;t++)f+t<=-1||s<=f+t||(0<=e&&e<=6&&(0===t||6===t)||0<=t&&t<=6&&(0===e||6===e)||2<=e&&e<=4&&2<=t&&t<=4?i.set(l+e,f+t,!0,!0):i.set(l+e,f+t,!1,!0))}var h=a,d=h.size;for(let t=8;t<d-8;t++){var g=t%2==0;h.set(t,6,g,!0),h.set(6,t,g,!0)}var p=a,u=n,v=x.getPositions(u);for(let t=0;t<v.length;t++){var m=v[t][0],w=v[t][1];for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)-2===e||2===e||-2===t||2===t||0===e&&0===t?p.set(m+e,w+t,!0,!0):p.set(m+e,w+t,!1,!0)}if(D(a,r,0),7<=n){var y,E,b,C=a,u=n,A=C.size,I=S.getEncodedBits(u);for(let t=0;t<18;t++)y=Math.floor(t/3),E=t%3+A-8-3,b=1==(I>>t&1),C.set(y,E,b,!0),C.set(E,y,b,!0)}{var P=a,N=e,B=P.size;let t=-1,r=B-1,o=7,i=0;for(let n=B-1;0<n;n-=2)for(6===n&&n--;;){for(let e=0;e<2;e++)if(!P.isReserved(r,n-e)){let t=!1;i<N.length&&(t=1==(N[i]>>>o&1)),P.set(r,n-e,t),-1===--o&&(i++,o=7)}if((r+=t)<0||B<=r){r-=t,t=-t;break}}}return isNaN(t)&&(t=L.getBestMask(a,D.bind(null,a,r))),L.applyMask(t,a),D(a,r,t),{modules:a,version:n,errorCorrectionLevel:r,maskPattern:t,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n=i.M,r,o;return void 0!==e&&(n=i.from(e.errorCorrectionLevel,i.M),r=S.from(e.version),o=L.from(e.maskPattern),e.toSJISFunc)&&M.setToSJISFunction(e.toSJISFunc),a(t,r,n,o)}},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(e,n){for(let t=0;t<n;t++)this.putBit(1==(e>>>n-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}n.prototype.set=function(t,e,n,r){t=t*this.size+e;this.data[t]=n,r&&(this.reservedBit[t]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},function(t,e,n){const o=n(0).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];var e=Math.floor(t/7)+2,t=o(t),n=145===t?26:2*Math.ceil((t-13)/(2*e-2)),r=[t-7];for(let t=1;t<e-1;t++)r[t]=r[t-1]-n;return r.push(6),r.reverse()},e.getPositions=function(t){var n=[],r=e.getRowColCoords(t),o=r.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||n.push([r[e],r[t]]);return n}},function(t,e,n){const r=n(0).getSymbolSize;e.getPositions=function(t){t=r(t);return[[0,0],[t-7,0],[0,t-7]]}},function(t,u){u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const l={N1:3,N2:3,N3:40,N4:10};u.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},u.from=function(t){return u.isValid(t)?parseInt(t,10):void 0},u.getPenaltyN1=function(n){var r=n.size;let o=0,i=0,a=0,u=null,s=null;for(let e=0;e<r;e++){i=a=0,u=s=null;for(let t=0;t<r;t++){var c=n.get(e,t);c===u?i++:(5<=i&&(o+=l.N1+(i-5)),u=c,i=1),(c=n.get(t,e))===s?a++:(5<=a&&(o+=l.N1+(a-5)),s=c,a=1)}5<=i&&(o+=l.N1+(i-5)),5<=a&&(o+=l.N1+(a-5))}return o},u.getPenaltyN2=function(n){var r=n.size;let o=0;for(let e=0;e<r-1;e++)for(let t=0;t<r-1;t++){var i=n.get(e,t)+n.get(e,t+1)+n.get(e+1,t)+n.get(e+1,t+1);4!==i&&0!==i||o++}return o*l.N2},u.getPenaltyN3=function(n){var r=n.size;let o=0,i=0,a=0;for(let e=0;e<r;e++)for(let t=i=a=0;t<r;t++)i=i<<1&2047|n.get(e,t),10<=t&&(1488===i||93===i)&&o++,a=a<<1&2047|n.get(t,e),10<=t&&(1488===a||93===a)&&o++;return o*l.N3},u.getPenaltyN4=function(e){let n=0;var r=e.data.length;for(let t=0;t<r;t++)n+=e.data[t];return Math.abs(Math.ceil(100*n/r/5)-10)*l.N4},u.applyMask=function(n,r){var o=r.size;for(let e=0;e<o;e++)for(let t=0;t<o;t++)r.isReserved(t,e)||r.xor(t,e,function(t,e,n){switch(t){case u.Patterns.PATTERN000:return(e+n)%2==0;case u.Patterns.PATTERN001:return e%2==0;case u.Patterns.PATTERN010:return n%3==0;case u.Patterns.PATTERN011:return(e+n)%3==0;case u.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case u.Patterns.PATTERN101:return e*n%2+e*n%3==0;case u.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case u.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}(n,t,e))},u.getBestMask=function(e,n){var r=Object.keys(u.Patterns).length;let o=0,i=1/0;for(let t=0;t<r;t++){n(t),u.applyMask(t,e);var a=u.getPenaltyN1(e)+u.getPenaltyN2(e)+u.getPenaltyN3(e)+u.getPenaltyN4(e);u.applyMask(t,e),a<i&&(i=a,o=t)}return o}},function(t,e,n){const r=n(17);function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(t){var e,n;if(this.genPoly)return(e=new Uint8Array(t.length+this.degree)).set(t),t=r.mod(e,this.genPoly),0<(e=this.degree-t.length)?((n=new Uint8Array(this.degree)).set(t,e),n):t;throw new Error("Encoder not initialized")},t.exports=o},function(t,r,e){const i=e(18);r.mul=function(n,r){var o=new Uint8Array(n.length+r.length-1);for(let e=0;e<n.length;e++)for(let t=0;t<r.length;t++)o[e+t]^=i.mul(n[e],r[t]);return o},r.mod=function(t,e){let n=new Uint8Array(t);for(;0<=n.length-e.length;){var r=n[0];for(let t=0;t<e.length;t++)n[t]^=i.mul(e[t],r);let t=0;for(;t<n.length&&0===n[t];)t++;n=n.slice(t)}return n},r.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let t=0;t<e;t++)n=r.mul(n,new Uint8Array([1,i.exp(t)]));return n}},function(t,e){const n=new Uint8Array(512),r=new Uint8Array(256);{let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},function(t,a,e){const o=e(0),i=e(3),u=e(2),s=e(1),c=e(4),n=o.getBCHDigit(7973);function l(t,e){return s.getCharCountIndicator(t,e)+4}function f(e,n){for(let t=1;t<=40;t++)if(function(t,n){let r=0;return t.forEach(function(t){var e=l(t.mode,n);r+=e+t.getBitsLength()}),r}(e,t)<=a.getCapacity(t,n,s.MIXED))return t}a.from=function(t,e){return c.isValid(t)?parseInt(t,10):e},a.getCapacity=function(t,e,n){if(!c.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=s.BYTE);e=8*(o.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(n===s.MIXED)return e;var r=e-l(n,t);switch(n){case s.NUMERIC:return Math.floor(r/10*3);case s.ALPHANUMERIC:return Math.floor(r/11*2);case s.KANJI:return Math.floor(r/13);default:s.BYTE;return Math.floor(r/8)}},a.getBestVersionForData=function(t,e){let n;e=u.from(e,u.M);if(Array.isArray(t)){if(1<t.length)return f(t,e);if(0===t.length)return 1;n=t[0]}else n=t;var r=n.mode,o=n.getLength(),i=e;for(let t=1;t<=40;t++)if(o<=a.getCapacity(t,i,r))return t},a.getEncodedBits=function(t){if(!c.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;0<=o.getBCHDigit(e)-n;)e^=7973<<o.getBCHDigit(e)-n;return t<<12|e}},function(t,e,n){const r=n(0),o=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){t=t.bit<<3|e;let n=t<<10;for(;0<=r.getBCHDigit(n)-o;)n^=1335<<r.getBCHDigit(n)-o;return 21522^(t<<10|n)}},function(t,i,e){const f=e(1),o=e(22),a=e(23),u=e(24),s=e(26),c=e(5),l=e(0),h=e(27);function d(t){return unescape(encodeURIComponent(t)).length}function g(t,e,n){for(var r,o=[];null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function p(t){var e=g(c.NUMERIC,f.NUMERIC,t),n=g(c.ALPHANUMERIC,f.ALPHANUMERIC,t);let r,o;return o=l.isKanjiModeEnabled()?(r=g(c.BYTE,f.BYTE,t),g(c.KANJI,f.KANJI,t)):(r=g(c.BYTE_KANJI,f.BYTE,t),[]),e.concat(n,r,o).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function v(t,e){switch(e){case f.NUMERIC:return o.getBitsLength(t);case f.ALPHANUMERIC:return a.getBitsLength(t);case f.KANJI:return s.getBitsLength(t);case f.BYTE:return u.getBitsLength(t)}}function n(t,e){let n;var r=f.getBestModeForData(t);if((n=f.from(e,r))!==f.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+f.toString(n)+".\n Suggested mode is: "+f.toString(r));switch(n=n!==f.KANJI||l.isKanjiModeEnabled()?n:f.BYTE){case f.NUMERIC:return new o(t);case f.ALPHANUMERIC:return new a(t);case f.KANJI:return new s(t);case f.BYTE:return new u(t)}}i.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(n(e,null)):e.data&&t.push(n(e.data,e.mode)),t},[])},i.fromString=function(t,e){var n=function(t,n){var r={},o={start:{}};let i=["start"];for(let e=0;e<t.length;e++){var a=t[e],u=[];for(let t=0;t<a.length;t++){var s=a[t],c=""+e+t;u.push(c),r[c]={node:s,lastCount:0},o[c]={};for(let t=0;t<i.length;t++){var l=i[t];r[l]&&r[l].node.mode===s.mode?(o[l][c]=v(r[l].lastCount+s.length,s.mode)-v(r[l].lastCount,s.mode),r[l].lastCount+=s.length):(r[l]&&(r[l].lastCount=s.length),o[l][c]=v(s.length,s.mode)+4+f.getCharCountIndicator(s.mode,n))}}i=u}for(let t=0;t<i.length;t++)o[i[t]].end=0;return{map:o,table:r}}(function(e){var n=[];for(let t=0;t<e.length;t++){var r=e[t];switch(r.mode){case f.NUMERIC:n.push([r,{data:r.data,mode:f.ALPHANUMERIC,length:r.length},{data:r.data,mode:f.BYTE,length:r.length}]);break;case f.ALPHANUMERIC:n.push([r,{data:r.data,mode:f.BYTE,length:r.length}]);break;case f.KANJI:n.push([r,{data:r.data,mode:f.BYTE,length:d(r.data)}]);break;case f.BYTE:n.push([{data:r.data,mode:f.BYTE,length:d(r.data)}])}}return n}(p(t,l.isKanjiModeEnabled())),e),r=h.find_path(n.map,"start","end"),o=[];for(let t=1;t<r.length-1;t++)o.push(n.table[r[t]].node);return i.fromArray(o.reduce(function(t,e){var n=0<=t.length-1?t[t.length-1]:null;return n&&n.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},i.rawSplit=function(t){return i.fromArray(p(t,l.isKanjiModeEnabled()))}},function(t,e,n){const r=n(1);function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var o=this.data.length-e;0<o&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))},t.exports=o},function(t,e,n){const r=n(1),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=r.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=i},function(t,e,n){const r=n(25),o=n(1);function i(t){this.mode=o.BYTE,"string"==typeof t&&(t=r(t)),this.data=new Uint8Array(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o,i=t.charCodeAt(r);55296<=i&&i<=56319&&r+1<n&&56320<=(o=t.charCodeAt(r+1))&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1),i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||57344<=i&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):65536<=i&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},function(t,e,n){const r=n(1),o=n(0);function i(t){this.mode=r.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let t=o.toSJIS(this.data[n]);if(33088<=t&&t<=40956)t-=33088;else{if(!(57408<=t&&t<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");t-=49472}t=192*(t>>>8&255)+(255&t),e.put(t,13)}},t.exports=i},function(t,e,n){"use strict";var d={single_source_shortest_paths:function(t,e,n){var r,o,i,a,u,s,c,l={},f={},h=(f[e]=0,d.PriorityQueue.make());for(h.push(e,0);!h.empty();)for(i in o=(r=h.pop()).value,a=r.cost,u=t[o]||{})u.hasOwnProperty(i)&&(s=a+u[i],void 0===(c=f[i])||s<c)&&(h.push(i,f[i]=s),l[i]=o);if(void 0!==n&&void 0===f[n])throw e=["Could not find a path from ",e," to ",n,"."].join(""),new Error(e);return l},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){t=d.single_source_shortest_paths(t,e,n);return d.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(t){var e,n=d.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=d},function(t,o,e){const a=e(6);o.render=function(t,e,n){let r=n,o=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=a.getOptions(r);var n=a.getImageWidth(t.modules.size,r),e=o.getContext("2d"),i=e.createImageData(n,n);return a.qrToImageData(i.data,t,r),t=o,n=n,e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px",e.putImageData(i,0,0),o},o.renderToDataURL=function(t,e,n){let r=n;void 0!==r||e&&e.getContext||(r=e,e=void 0),r=r||{};n=o.render(t,e,r),t=r.type||"image/png",e=r.rendererOpts||{};return n.toDataURL(t,e.quality)}},function(t,e,n){const a=n(6);function u(t,e){var n=t.a/255,t=e+'="'+t.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function l(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){var e=a.getOptions(e),r=t.modules.size,t=t.modules.data,o=r+2*e.margin,i=e.color.light.a?"<path "+u(e.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",t="<path "+u(e.color.dark,"stroke")+' d="'+function(e,n,r){let o="",i=0,a=!1,u=0;for(let t=0;t<e.length;t++){var s=Math.floor(t%n),c=Math.floor(t/n);s||(a=a||!0),e[t]?(u++,0<t&&0<s&&e[t-1]||(o+=a?l("M",s+r,.5+c+r):l("m",i,0),i=0,a=!1),s+1<n&&e[t+1]||(o+=l("h",u),u=0)):i++}return o}(t,r,e.margin)+'"/>',r='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+('viewBox="0 0 '+o+" "+o+'"')+' shape-rendering="crispEdges">'+i+t+"</svg>\n";return"function"==typeof n&&n(null,r),r}},function(t,e,n){"use strict";n.r(e);function g(t){return"string"==typeof t}function a(t){var e,n,r,o,i,a,u,s,c,l,f,h,d=t.canvas;return!(t=t.logo)||""===t?Promise.resolve():(l=d.width,n=(a=t=g(t)?{src:t}:t).logoSize,e=a.borderColor,e=void 0===(c=a.bgColor)?(void 0===e?"#ffffff":e)||"#ffffff":c,c=a.borderSize,r=a.crossOrigin,o=void 0===(o=a.borderRadius)?8:o,a=a.logoRadius,i=void 0===a?0:a,a="string"==typeof t?t:t.src,u=l*(t=void 0===n?.15:n),s=l*(1-t)/2,c=l*(t+(n=void 0===c?.05:c)),l=l*(1-t-n)/2,f=d.getContext("2d"),p(f)(l,l,c,c,o),f.fillStyle=e,f.fill(),(h=new Image).setAttribute("crossOrigin",r||"anonymous"),h.src=a,new Promise(function(n,t){h.onload=function(){var t,e;i?(t=h,(e=document.createElement("canvas")).width=s+u,e.height=s+u,e.getContext("2d").drawImage(t,s,s,u,u),p(f)(s,s,u,u,i),f.fillStyle=f.createPattern(e,"no-repeat"),f.fill()):f.drawImage(h,s,s,u,u),n()},h.onerror=function(){t("logo load fail!")}}))}function s(t){return e=t.canvas,n=t.content,r=t.width,o=void 0===r?0:r,r=t.nodeQrCodeOptions,(i=void 0===r?{}:r).errorCorrectionLevel=i.errorCorrectionLevel||f(n),l(n,i).then(function(t){return i.scale=0===o?void 0:o/t*4,u(e,n,i)}).then(function(){return a(t)});var e,n,r,o,i}function c(o,i){return new Promise(function(t,e){try{var n=o.src,r=document.createElement("a");r.download=i,r.href=n,r.dispatchEvent(new MouseEvent("click")),t(!0)}catch(t){e(t)}})}var o,r=n(7),u=(o=n.n(r).a.toCanvas,function(){var t=Array.prototype.slice.call(arguments);return new Promise(function(n,r){t.push(function(t,e){t?r(t):n(e)}),o.apply(null,t)})}),l=function(t,e){var n=document.createElement("canvas");return u(n,t,e).then(function(){return n.width})},f=function(t){return 36<t.length?"M":16<t.length?"Q":"H"},p=function(a){return function(t,e,n,r,o){var i=Math.min(n,r);return i/2<o&&(o=i/2),a.beginPath(),a.moveTo(t+o,e),a.arcTo(t+n,e,t+n,e+r,o),a.arcTo(t+n,e+r,t,e+r,o),a.arcTo(t,e+r,t,e,o),a.arcTo(t,e,t+n,e,o),a.closePath(),a}},i=function(t,a,u,s){return new(u=u||Promise)(function(n,e){function r(t){try{i(s.next(t))}catch(t){e(t)}}function o(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(r,o)}i((s=s.apply(t,a||[])).next())})},h=function(r,o){var i,a,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(u=2&e[0]?a.return:e[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,e[1])).done)return u;switch(a=0,(e=u?[2&e[0],u.value]:e)[0]){case 0:case 1:u=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,a=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(u=0<(u=s.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3]))s.label=e[1];else if(6===e[0]&&s.label<u[1])s.label=u[1],u=e;else{if(!(u&&s.label<u[2])){u[2]&&s.ops.pop(),s.trys.pop();continue}s.label=u[2],s.ops.push(e)}}e=o.call(r,s)}catch(t){e=[6,t],a=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},r=n(8),d=function(t,a,u,s){return new(u=u||Promise)(function(n,e){function r(t){try{i(s.next(t))}catch(t){e(t)}}function o(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(r,o)}i((s=s.apply(t,a||[])).next())})},v=function(r,o){var i,a,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(u=2&e[0]?a.return:e[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,e[1])).done)return u;switch(a=0,(e=u?[2&e[0],u.value]:e)[0]){case 0:case 1:u=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,a=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(u=0<(u=s.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3]))s.label=e[1];else if(6===e[0]&&s.label<u[1])s.label=u[1],u=e;else{if(!(u&&s.label<u[2])){u[2]&&s.ops.pop(),s.trys.pop();continue}s.label=u[2],s.ops.push(e)}}e=o.call(r,s)}catch(t){e=[6,t],a=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}};function m(t){this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.defaultOption={canvas:void 0,image:void 0,content:""},this.option=Object.assign(this.defaultOption,t),this.option.canvas||(this.option.canvas=document.createElement("canvas")),this.option.image||(this.option.image=document.createElement("img")),this.toCanvas().then(this.toImage.bind(this))}m.prototype.toCanvas=function(){var t=this;return s.call(this,this.option).then(function(){return t.ifCanvasDrawed=!0,Promise.resolve()})},m.prototype.toImage=function(){return function(a,u){return i(this,void 0,void 0,function(){var e,n,r,o,i;return h(this,function(t){switch(t.label){case 0:return e=a.canvas,a.logo&&(g(a.logo)&&(a.logo={src:a.logo}),a.logo.crossOrigin="Anonymous"),u.ifCanvasDrawed?[3,2]:[4,s(a)];case 1:t.sent(),t.label=2;case 2:if(n=a.image,o=a.downloadName,r=void 0===o?"qr-code":o,o=a.download,e.toDataURL())return n.src=e.toDataURL(),(u.ifImageCreated=!0)!==o&&"function"!=typeof o?[2]:(i=function(){return c(n,r)},(o=!0===o?function(t){return t()}:o)?[2,o(i)]:[2,Promise.resolve()]);throw new Error("Can not get the canvas DataURL")}})})}(this.option,this)},m.prototype.downloadImage=function(e){return void 0===e&&(e="qrcode.png"),d(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.ifImageCreated?[3,2]:[4,this.toImage()];case 1:t.sent(),t.label=2;case 2:return[2,c(this.option.image,e)]}})})},m.prototype.getImage=function(){return d(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.ifImageCreated?[3,2]:[4,this.toImage()];case 1:t.sent(),t.label=2;case 2:return[2,this.option.image]}})})},m.prototype.getCanvas=function(){return d(this,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return this.ifCanvasDrawed?[3,2]:[4,this.toCanvas()];case 1:t.sent(),t.label=2;case 2:return[2,this.option.canvas]}})})},m.version=r.a;e.default=m}],r={},o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=30).default;function o(t){var e;return(r[t]||(e=r[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,o),e.l=!0,e)).exports}var n,r});